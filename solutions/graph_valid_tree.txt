Use DFS/BFS to ensure no cycle and all nodes are connected.